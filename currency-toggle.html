<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Currency Toggle — EUR / USD</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 24px; max-width: 820px; margin: 0 auto; }
        .card { background: #fff; padding: 18px; border-radius: 12px; box-shadow: 0 6px 30px rgba(0,0,0,0.06); }
        .controls { display:flex; gap:8px; align-items:center; margin-bottom:12px; }
        button { padding:8px 14px; border-radius:8px; border:1px solid #ddd; background:#f3f4f6; cursor:pointer; }
        button.active { background:#0ea5a4; color:white; border-color:#0ea5a4; }
        .sample { margin-top:12px; display:grid; gap:8px; }
    </style>
</head>
<body>
    <div class="card">
        <h2>Currency Toggle</h2>
        <p>Select the currency to display everywhere on the site (elements with <code>dynamic-currency</code> will update).</p>
        <div class="controls">
            <button id="btn-eur">EUR (€)</button>
            <button id="btn-usd">USD ($)</button>
            <div style="margin-left:auto;color:#666">Current: <span id="current-currency">EUR</span></div>
        </div>

        <div class="sample">
            <div>Sample values (read from data-value):</div>
            <div class="flex-row">HR hours per vacancy: <span class="font-medium dynamic-currency" data-value="203">--</span></div>
            <div class="flex-row">Manager interviews: <span class="font-medium dynamic-currency" data-value="188">--</span></div>
            <div class="flex-row">Training: <span class="font-medium dynamic-currency" data-value="1636">--</span></div>
        </div>
    </div>

    <script>
        (function(){
            const btnEur = document.getElementById('btn-eur');
            const btnUsd = document.getElementById('btn-usd');
            const currentLabel = document.getElementById('current-currency');

            function formatDynamic(currency) {
                const locale = currency === 'EUR' ? 'de-DE' : 'en-US';
                document.querySelectorAll('.dynamic-currency').forEach(el => {
                    const v = parseFloat(el.getAttribute('data-value')) || 0;
                    el.textContent = new Intl.NumberFormat(locale, { style:'currency', currency: currency, minimumFractionDigits:0 }).format(v);
                });
                localStorage.setItem('preferredCurrency', currency);
                currentLabel.textContent = currency;
                btnEur.classList.toggle('active', currency === 'EUR');
                btnUsd.classList.toggle('active', currency === 'USD');
            }

            btnEur.addEventListener('click', () => formatDynamic('EUR'));
            btnUsd.addEventListener('click', () => formatDynamic('USD'));

            // On load apply persisted preference or default to EUR
            const pref = localStorage.getItem('preferredCurrency') || 'EUR';
            formatDynamic(pref);
        })();
    </script>
</body>
</html>


